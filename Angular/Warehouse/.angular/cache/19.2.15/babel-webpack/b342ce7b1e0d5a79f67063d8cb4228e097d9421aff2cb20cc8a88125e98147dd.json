{"ast":null,"code":"import { inject } from '@angular/core';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport { AuthService } from '../../../../Services/AuthService/auth.service';\nimport { CommonModule } from '@angular/common';\nimport { SpinnerComponent } from '../../../Others/spinner/spinner.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nconst _c0 = () => [\"/auth/login\"];\nconst _c1 = () => [\"/auth/register\"];\nfunction RegisterComponent_Conditional_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 39)(1, \"span\", 40);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"li\", 41)(4, \"a\", 42);\n    i0.ɵɵlistener(\"click\", function RegisterComponent_Conditional_5_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.logout());\n    });\n    i0.ɵɵtext(5, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Welcome, \", (tmp_1_0 = ctx_r1.authService.currentUser()) == null ? null : tmp_1_0.username, \"\");\n  }\n}\nfunction RegisterComponent_Conditional_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 39)(1, \"a\", 43);\n    i0.ɵɵtext(2, \"Login\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"li\", 39)(4, \"a\", 44);\n    i0.ɵɵtext(5, \"Register\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\n  }\n}\nfunction RegisterComponent_Conditional_24_Conditional_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1, \"Username is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_Conditional_24_Conditional_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Username must be at least 3 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_Conditional_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_Conditional_24_Conditional_1_Template, 2, 0, \"div\", 45)(2, RegisterComponent_Conditional_24_Conditional_2_Template, 2, 0, \"div\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(((tmp_1_0 = ctx_r1.registerForm.get(\"username\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]) ? 1 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(((tmp_2_0 = ctx_r1.registerForm.get(\"username\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"minlength\"]) ? 2 : -1);\n  }\n}\nfunction RegisterComponent_Conditional_31_Conditional_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_Conditional_31_Conditional_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Please enter a valid email\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_Conditional_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_Conditional_31_Conditional_1_Template, 2, 0, \"div\")(2, RegisterComponent_Conditional_31_Conditional_2_Template, 2, 0, \"div\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(((tmp_1_0 = ctx_r1.registerForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]) ? 1 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(((tmp_2_0 = ctx_r1.registerForm.get(\"email\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"email\"]) ? 2 : -1);\n  }\n}\nfunction RegisterComponent_Conditional_38_Conditional_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_Conditional_38_Conditional_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Password must be at least 6 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_Conditional_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, RegisterComponent_Conditional_38_Conditional_1_Template, 2, 0, \"div\")(2, RegisterComponent_Conditional_38_Conditional_2_Template, 2, 0, \"div\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(((tmp_1_0 = ctx_r1.registerForm.get(\"password\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]) ? 1 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(((tmp_2_0 = ctx_r1.registerForm.get(\"password\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"minlength\"]) ? 2 : -1);\n  }\n}\nfunction RegisterComponent_Conditional_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 19);\n    i0.ɵɵtext(2, \"Please select Account Type\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterComponent_Conditional_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-spinner\");\n  }\n}\nfunction RegisterComponent_Conditional_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Create Account \");\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(fb, router, toastr) {\n      this.fb = fb;\n      this.router = router;\n      this.toastr = toastr;\n      this.authService = inject(AuthService);\n    }\n    /// Loading....\n    ngOnInit() {\n      this.registerForm = this.fb.group({\n        username: ['', [Validators.required, Validators.minLength(3)]],\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(5)]],\n        role: ['BUYER']\n      });\n    }\n    // Onsubmit Register Form\n    onSubmit() {\n      const {\n        username,\n        email,\n        password,\n        role\n      } = this.registerForm.value;\n      const roles = [role];\n      this.authService.register(username, email, password, roles).subscribe({\n        next: () => {\n          this.toastr.success(\"Registration Successful! Please Login.\");\n          this.registerForm.reset();\n          this.router.navigate(['/auth/login']);\n        },\n        error: err => {\n          this.toastr.error(err.error?.message || 'Registration Failed');\n        }\n      });\n      if (this.registerForm.invalid) {\n        return;\n      }\n    }\n    logout() {\n      this.authService.logout();\n    }\n    static {\n      this.ɵfac = function RegisterComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || RegisterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RegisterComponent,\n        selectors: [[\"app-register\"]],\n        decls: 66,\n        vars: 16,\n        consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"bg-dark\"], [1, \"container\"], [\"routerLink\", \"/\", 1, \"navbar-brand\"], [\"id\", \"navbar-item\", 1, \"navbar-nav\"], [1, \"vh-100\", \"bg-secondary\"], [1, \"container\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-lg-12\", \"col-xl-11\"], [1, \"card\", \"text-black\", \"bg-secondary\", 2, \"border-radius\", \"25px\"], [1, \"card-body\", \"p-md-5\"], [1, \"row\", \"justify-content-center\"], [\"id\", \"box\", 1, \"col-lg-6\", \"col-md-10\", \"col-xl-5\", \"order-2\", \"order-lg-1\", \"rounded-3\"], [\"id\", \"signup\", 1, \"text-center\", \"h1\", \"fw-bold\", \"mb-5\", \"mx-1\", \"mx-md-4\", \"mt-4\"], [1, \"mx-1\", \"mx-md-4\", 3, \"ngSubmit\", \"formGroup\"], [1, \"d-flex\", \"flex-row\", \"align-items-center\", \"mb-4\"], [1, \"fas\", \"fa-user\", \"fa-lg\", \"me-3\", \"fa-fw\"], [\"data-mdb-input-init\", \"\", 1, \"form-outline\", \"flex-fill\", \"mb-0\"], [\"type\", \"text\", \"formControlName\", \"username\", \"id\", \"username\", \"placeholder\", \"Enter your username\", 1, \"form-control\"], [\"for\", \"username\", 1, \"form-label\"], [1, \"text-danger\"], [1, \"fas\", \"fa-envelope\", \"fa-lg\", \"me-3\", \"fa-fw\"], [\"type\", \"email\", \"formControlName\", \"email\", \"id\", \"email\", \"placeholder\", \"Enter your email\", 1, \"form-control\"], [\"for\", \"email\", 1, \"form-label\"], [1, \"fas\", \"fa-lock\", \"fa-lg\", \"me-3\", \"fa-fw\"], [\"type\", \"password\", \"formControlName\", \"password\", \"id\", \"password\", \"placeholder\", \"Enter your password\", 1, \"form-control\"], [\"for\", \"password\", 1, \"form-label\"], [1, \"invalid-feedback\"], [\"data-mdb-select-init\", \"\", \"formControlName\", \"role\", \"id\", \"role\", 1, \"form-select\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"BUYER\"], [\"value\", \"ADMIN\"], [\"value\", \"WAREHOUSE\"], [\"value\", \"TRANSPORTATION\"], [\"for\", \"role\", 1, \"form-label\"], [\"type\", \"submit\", \"id\", \"sign-bg\", 1, \"btn\", \"btn-block\", \"btn-primary\", 3, \"disabled\"], [1, \"text-center\", \"mt-3\"], [\"id\", \"login-bg\", 1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [1, \"col-md-10\", \"col-lg-6\", \"col-xl-7\", \"d-flex\", \"align-items-center\", \"order-1\", \"order-lg-2\"], [\"src\", \"/truck.jpg\", \"alt\", \"Truck image\", 1, \"img-fluid\"], [1, \"nav-item\"], [1, \"nav-link\"], [1, \"nav-item\", \"border\", \"bg-danger\", \"rounded-3\", \"ps-2\", \"pe-2\"], [1, \"nav-link\", 2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"nav-link\", \"btn-primary\", \"btn\", 3, \"routerLink\"], [1, \"nav-link\", \"btn\", \"btn-warning\", \"text-white\", 3, \"routerLink\"], [1, \"\"]],\n        template: function RegisterComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"a\", 2);\n            i0.ɵɵtext(3, \"Inventory Management\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"ul\", 3);\n            i0.ɵɵtemplate(5, RegisterComponent_Conditional_5_Template, 6, 1)(6, RegisterComponent_Conditional_6_Template, 6, 4);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(7, \"section\", 4)(8, \"div\", 5)(9, \"div\", 6)(10, \"div\", 7)(11, \"div\", 8)(12, \"div\", 9)(13, \"div\", 10)(14, \"div\", 11)(15, \"p\", 12);\n            i0.ɵɵtext(16, \" SignUp\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"form\", 13);\n            i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_17_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(18, \"div\", 14);\n            i0.ɵɵelement(19, \"i\", 15);\n            i0.ɵɵelementStart(20, \"div\", 16);\n            i0.ɵɵelement(21, \"input\", 17);\n            i0.ɵɵelementStart(22, \"label\", 18);\n            i0.ɵɵtext(23, \"UserName\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(24, RegisterComponent_Conditional_24_Template, 3, 2, \"div\", 19);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(25, \"div\", 14);\n            i0.ɵɵelement(26, \"i\", 20);\n            i0.ɵɵelementStart(27, \"div\", 16);\n            i0.ɵɵelement(28, \"input\", 21);\n            i0.ɵɵelementStart(29, \"label\", 22);\n            i0.ɵɵtext(30, \"Email\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(31, RegisterComponent_Conditional_31_Template, 3, 2, \"div\", 19);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"div\", 14);\n            i0.ɵɵelement(33, \"i\", 23);\n            i0.ɵɵelementStart(34, \"div\", 16);\n            i0.ɵɵelement(35, \"input\", 24);\n            i0.ɵɵelementStart(36, \"label\", 25);\n            i0.ɵɵtext(37, \"Password\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(38, RegisterComponent_Conditional_38_Template, 3, 2, \"div\", 26);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(39, \"div\", 14);\n            i0.ɵɵelement(40, \"i\", 23);\n            i0.ɵɵelementStart(41, \"div\", 16)(42, \"select\", 27)(43, \"option\", 28);\n            i0.ɵɵtext(44, \"Select your account type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(45, \"option\", 29);\n            i0.ɵɵtext(46, \"BUYER\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(47, \"option\", 30);\n            i0.ɵɵtext(48, \"ADMIN\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"option\", 31);\n            i0.ɵɵtext(50, \"WAREHOUSE\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(51, \"option\", 32);\n            i0.ɵɵtext(52, \"TRANSPORTATION\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(53, \"label\", 33);\n            i0.ɵɵtext(54, \"Account Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(55, RegisterComponent_Conditional_55_Template, 3, 0, \"div\", 26);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(56, \"button\", 34);\n            i0.ɵɵtemplate(57, RegisterComponent_Conditional_57_Template, 1, 0, \"app-spinner\")(58, RegisterComponent_Conditional_58_Template, 1, 0);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(59, \"div\", 35)(60, \"p\");\n            i0.ɵɵtext(61, \"Already have an account? \");\n            i0.ɵɵelementStart(62, \"a\", 36);\n            i0.ɵɵtext(63, \"Login\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(64, \"div\", 37);\n            i0.ɵɵelement(65, \"img\", 38);\n            i0.ɵɵelementEnd()()()()()()()();\n          }\n          if (rf & 2) {\n            let tmp_2_0;\n            let tmp_3_0;\n            let tmp_4_0;\n            let tmp_5_0;\n            let tmp_6_0;\n            let tmp_7_0;\n            let tmp_8_0;\n            i0.ɵɵadvance(5);\n            i0.ɵɵconditional(ctx.authService.currentUser() ? 5 : 6);\n            i0.ɵɵadvance(12);\n            i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_2_0 = ctx.registerForm.get(\"username\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.registerForm.get(\"username\")) == null ? null : tmp_2_0.touched));\n            i0.ɵɵadvance(3);\n            i0.ɵɵconditional(((tmp_3_0 = ctx.registerForm.get(\"username\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.registerForm.get(\"username\")) == null ? null : tmp_3_0.touched) ? 24 : -1);\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_4_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_4_0.touched));\n            i0.ɵɵadvance(3);\n            i0.ɵɵconditional(((tmp_5_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_5_0.touched) ? 31 : -1);\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_6_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_6_0.touched));\n            i0.ɵɵadvance(3);\n            i0.ɵɵconditional(((tmp_7_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_7_0.touched) ? 38 : -1);\n            i0.ɵɵadvance(17);\n            i0.ɵɵconditional(((tmp_8_0 = ctx.registerForm.get(\"role\")) == null ? null : tmp_8_0.invalid) && ((tmp_8_0 = ctx.registerForm.get(\"role\")) == null ? null : tmp_8_0.touched) ? 55 : -1);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid || ctx.authService.isLoading());\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(ctx.authService.isLoading() ? 57 : 58);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(15, _c0));\n          }\n        },\n        dependencies: [CommonModule, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, RouterLink, SpinnerComponent],\n        styles: [\"#box[_ngcontent-%COMP%]{background-color:#79a2bcea}#card-item[_ngcontent-%COMP%]{background-color:#789}#login-bg[_ngcontent-%COMP%]{background-color:transparent;color:#000}#login-bg[_ngcontent-%COMP%]:hover{background-color:#2929dfe2;color:#fff}#sign-bg[_ngcontent-%COMP%]{background-color:transparent;color:#000}#sign-bg[_ngcontent-%COMP%]:hover{background-color:gold}#signup[_ngcontent-%COMP%]:hover{color:#00f}\"]\n      });\n    }\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}